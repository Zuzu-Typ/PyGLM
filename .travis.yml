language: python

env:
  global:
      # only 64-bit
      - CIBW_SKIP=cp34-*
      - CIBW_BUILD=cp3?-*
      - CIBW_TEST_COMMAND="python {project}/PyGLM_test.py"

matrix:
  include:
    # linux
    - services: docker
    # mac
    - os: osx
      language: generic
      env: MACOSX_DEPLOYMENT_TARGET=10.9
    # windows
    - os: windows
      language: generic
      before_install:
        - choco install python --version 3.8.0
        - export PATH="/c/Python38:/c/Python/Scripts:$PATH"

install:
  - python -m pip install cibuildwheel==1.1.0

script:
  - python -m cibuildwheel --output-dir ./wheelhouse
  - ls wheelhouse
